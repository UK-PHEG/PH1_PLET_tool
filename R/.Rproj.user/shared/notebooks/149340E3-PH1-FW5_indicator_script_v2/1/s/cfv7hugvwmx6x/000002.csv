"0","#convert all lifeform columns to numeric"
"0","df[lf_list] <- suppressWarnings(sapply(df[lf_list],as.numeric))"
"0",""
"0","#remove lifeforms not represented in this data at all"
"0","df <- df[,colSums(is.na(df))<nrow(df)]"
"0",""
"0","#update lifeform list"
"0","lf_list <- colnames(df)[!(colnames(df) %in% id_vars)]"
"0",""
"0","#replace NA values with 0 when some lifeforms were detected (i.e. there was a real sample)"
"0","df[rowSums(df[,lf_list], na.rm=TRUE) > 0, lf_list][is.na(df[rowSums(df[,lf_list], na.rm=TRUE) > 0, lf_list])] <- 0"
"0",""
"0","#convert to long format"
"0","df <- df %>%"
"0","  pivot_longer(-all_of(id_vars), names_to = ""lifeform"", values_to = ""abundance"") %>%"
"0","  dplyr::mutate(abundance = as.numeric(abundance))"
